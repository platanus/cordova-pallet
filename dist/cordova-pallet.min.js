!function(){"use strict";angular.module("platanus.cordovaPallet",["ngCordova"])}();
!function(){"use strict";angular.module("platanus.cordovaPallet").constant("trashIcon","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAqCAQAAADhEEisAAAAAmJLR0QA/4eP\nzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffCRQUHjb9AwcJAAAB\nwElEQVRIx+3Wv2sUQRQH8M/snZ4iiWIUsVJQbCJCasH8Cf5ABEGwsrBQ0MbO\nRgT/CAU7CVhY2QiKcAixEQvBKiBGLnB3CRHPQO4ua+He7a7snndaiXkDM7xh\nvvPefvc784Yim/ZEUztpLXUnC9cJhbP3XdPSy6xacrZoYbUQ/tK7DBj6grg8\n+l6zapn5eESmfUuW06ld7rmqom98q7vlE0HkqTPaNgojllnFd+esRC6a19AR\nJ/DR/WDsqblJ5Lz2LzSNa/Oiqude2/JnVv3J5ox9EwI3fU7/+23XJyKOj06n\n8FhDdyJ4I6+6WCwW+E2feiDK7dm1YDHjL1rIZLXi8UBtxZp/5oGKV6bAmht6\ndrgwPEh1dY+yLEU5la+jP+Tjmx62VBNJreOrqaHAcvCQEWTWD0lL8814kb+y\naukRjUuPb+G3hxH3UCjztpPfTv5/S/6fpm5SeCiDxziGgw4l/oz9mE2qAMdx\nKqkIud3uuqQrFqw6qqaZFIMNkROW9ZMt2uas6eCDK2n0t8McDtjUGnq7Tfsy\nfHVEDmvqgPfZ6MFDcxMwsOqyZnqn88IeR+wcA9r1xp1BiQw5GmtjwTNvkR//\nn52kKbQ1VwAAAABJRU5ErkJggg==\n")}();
!function(){function e(e,o,a,l,t){function n(n,r,c,i){function u(){return["upload-btn",n.buttonClasses].join(" ")}function s(){return n.buttonLabel||"Select file..."}function d(){return!i.$viewValue}function p(){(n.removeCallback||angular.noop)(),v(null)}function b(e){var o=JSON.parse(e.response),a=o.upload||o,l={localFileName:L,loaded:1,total:1};v(a.identifier),a.localFileName=L,(n.progressCallback||angular.noop)({event:l}),(n.successCallback||angular.noop)({uploadData:a})}function g(e){var o={localFileName:L,loaded:1,total:1},a={localFileName:L,error:e.exception,status:e.http_status};(n.progressCallback||angular.noop)({event:o}),(n.errorCallback||angular.noop)({errorData:a})}function m(e){var o={localFileName:L,loaded:.95*e.loaded,total:e.total};(n.progressCallback||angular.noop)({event:o})}function f(){v(null),(n.initCallback||angular.noop)()}function v(e){return e?void i.$setViewValue(e):void i.$setViewValue(null)}function C(e){a.getPicture(e.options).then(function(e){f(),o.upload(n.uploadUrl,e,{mimeType:"image/jpeg",fileName:L}).then(b,g,m)},function(e){console.error(e)})}function k(e){var o=t.modeSelectorOptions(n.modeSelectorOptions),a={title:o.title,buttonLabels:t.labelsFromModes(e),addCancelButtonWithLabel:o.cancelBtnLabel,androidEnableCancelButton:!0};l.show(a).then(function(o){o-=1,o!==e.length&&h(e[o])})}function h(e){switch(e.name){case t.GALLERY_MODE:case t.CAMERA_MODE:C(e)}}function B(){var e=t.getModes(n.modes);e.length>1?k(e):h(e[0])}var L="image.jpg";n.onUploadButtonClick=B,n.getButtonLabel=s,n.onRemoveUpload=p,n.emptyIdentifier=d,n.trashIcon=e,n.getButtonClasses=u}var r={template:'<div class="pallet-file-selector"><button class="{{ getButtonClasses() }}" ng-click="onUploadButtonClick()">{{ getButtonLabel() }}</button><img class="remove-btn" ng-src="{{ trashIcon }}" ng-click="onRemoveUpload()" ng-hide="emptyIdentifier()" /></div>',require:"ngModel",replace:!0,scope:{uploadUrl:"@",buttonClasses:"@",buttonLabel:"@",modes:"=",modeSelectorOptions:"=",initCallback:"&",successCallback:"&",progressCallback:"&",errorCallback:"&",removeCallback:"&"},link:n};return r}angular.module("platanus.cordovaPallet").directive("palletFileSelector",e),e.$inject=["trashIcon","$cordovaFileTransfer","$cordovaCamera","$cordovaActionSheet","palletModesSrv"]}();
!function(){function e(){function e(e,n){e.label=n.label?n.label:"Camera",e.options.destinationType=Camera.DestinationType.FILE_URI,e.options.sourceType=Camera.PictureSourceType.CAMERA,e.options.encodingType=n.options.hasOwnProperty("encodingType")?n.options.encodingType:Camera.EncodingType.JPEG,e.options.saveToPhotoAlbum=n.options.hasOwnProperty("saveToPhotoAlbum")?n.options.saveToPhotoAlbum:!0,e.options.correctOrientation=n.options.hasOwnProperty("correctOrientation")?n.options.correctOrientation:!0}function n(e,n){e.label=n.label?n.label:"Gallery",e.options.destinationType=Camera.DestinationType.FILE_URI,e.options.sourceType=Camera.PictureSourceType.PHOTOLIBRARY,e.options.encodingType=n.options.hasOwnProperty("encodingType")?n.options.encodingType:Camera.EncodingType.JPEG}function o(o){if(!(o instanceof Object))throw new Error("Mode data needs to be json");if(!o.name)throw new Error("Missing name attribute");if(-1===l.indexOf(o.name))throw new Error("Invalid name attribute");o.options||(o.options={});var t={name:o.name,label:"Unknown",options:{}};return t.name===s?e(t,o):t.name===i&&n(t,o),t}function t(e){var n=[];if(!(e&&e instanceof Array))return n.push(o({name:i})),n;var t,a=e.length;for(t=0;a>t;t++)n.push(o(e[t]));return n}function a(e){if(e||(e={}),!(e instanceof Object))throw new Error("model selector options needs to be a json");return{title:e.title?e.title:"Get file from...",cancelBtnLabel:e.cancelBtnLabel?e.cancelBtnLabel:"Cancel"}}function r(e){var n,o=[],t=e.length;for(n=0;t>n;n++)o.push(e[n].label);return o}var i="gallery",s="camera",l=[i,s];this.GALLERY_MODE=i,this.CAMERA_MODE=s,this.getModes=t,this.labelsFromModes=r,this.modeSelectorOptions=a}angular.module("platanus.cordovaPallet").service("palletModesSrv",e)}();