!function(){"use strict";angular.module("platanus.cordovaPallet",["ngCordova"])}();
!function(){"use strict";angular.module("platanus.cordovaPallet").constant("trashIcon","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB8AAAAqCAQAAADhEEisAAAAAmJLR0QA/4eP\nzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQffCRQUHjb9AwcJAAAB\nwElEQVRIx+3Wv2sUQRQH8M/snZ4iiWIUsVJQbCJCasH8Cf5ABEGwsrBQ0MbO\nRgT/CAU7CVhY2QiKcAixEQvBKiBGLnB3CRHPQO4ua+He7a7snndaiXkDM7xh\nvvPefvc784Yim/ZEUztpLXUnC9cJhbP3XdPSy6xacrZoYbUQ/tK7DBj6grg8\n+l6zapn5eESmfUuW06ld7rmqom98q7vlE0HkqTPaNgojllnFd+esRC6a19AR\nJ/DR/WDsqblJ5Lz2LzSNa/Oiqude2/JnVv3J5ox9EwI3fU7/+23XJyKOj06n\n8FhDdyJ4I6+6WCwW+E2feiDK7dm1YDHjL1rIZLXi8UBtxZp/5oGKV6bAmht6\ndrgwPEh1dY+yLEU5la+jP+Tjmx62VBNJreOrqaHAcvCQEWTWD0lL8814kb+y\naukRjUuPb+G3hxH3UCjztpPfTv5/S/6fpm5SeCiDxziGgw4l/oz9mE2qAMdx\nKqkIud3uuqQrFqw6qqaZFIMNkROW9ZMt2uas6eCDK2n0t8McDtjUGnq7Tfsy\nfHVEDmvqgPfZ6MFDcxMwsOqyZnqn88IeR+wcA9r1xp1BiQw5GmtjwTNvkR//\nn52kKbQ1VwAAAABJRU5ErkJggg==\n")}();
!function(){function e(e,a,l){function o(e,o,n,t){function r(){return e.buttonLabel||"Select file..."}function i(){return!t.$viewValue}function c(){(e.removeCallback||angular.noop)(),g(null)}function u(a){var l=a.response,o=l.upload||l,n={localFileName:m,loaded:1,total:1};g(o.identifier),o.localFileName=m,(e.progressCallback||angular.noop)({event:n}),(e.successCallback||angular.noop)({uploadData:o})}function p(a){var l={localFileName:m,loaded:1,total:1},o={localFileName:m,error:a.exception,status:a.http_status};(e.progressCallback||angular.noop)({event:l}),(e.errorCallback||angular.noop)({errorData:o})}function d(a){var l={localFileName:m,loaded:.95*a.loaded,total:a.total};(e.progressCallback||angular.noop)({event:l})}function s(){g(null),(e.initCallback||angular.noop)()}function g(e){return e?void t.$setViewValue(e):void t.$setViewValue(null)}function v(){var o={destinationType:Camera.DestinationType.FILE_URI,sourceType:Camera.PictureSourceType.PHOTOLIBRARY,encodingType:Camera.EncodingType.JPEG};l.getPicture(o).then(function(l){s(),a.upload(e.uploadUrl,l,{mimeType:"image/jpeg",fileName:m}).then(u,p,d)})}var m="image.jpg";e.onUploadButtonClick=v,e.getButtonLabel=r,e.onRemoveUpload=c,e.emptyIdentifier=i}var n={template:'<div class="pallet-file-selector"><div class="upload-btn" ng-click="onUploadButtonClick()"> <button>{{ getButtonLabel() }}</button> </div><img class="remove-btn" ng-src="{{ trashIcon }}" ng-click="onRemoveUpload()" ng-hide="emptyIdentifier() || isLoading()" /></div>',require:"ngModel",scope:{uploadUrl:"@",buttonLabel:"@",initCallback:"&",successCallback:"&",progressCallback:"&",errorCallback:"&",removeCallback:"&",doneCallback:"&"},link:o};return n}angular.module("platanus.cordovaPallet").directive("palletFileSelector",e),e.$inject=["trashIcon","$cordovaFileTransfer","$cordovaCamera"]}();